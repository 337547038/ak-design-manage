{"code":1,"data":{"total":5,"dict":{"creatUser":{"1":"admin"},"source":{"13":"客户信息管理","14":"请假","20":"组件示例测试"}},"list":[{"updateDate":"2024-02-21 16:08:22","editUserId":1,"data":"{list:[{type:\"txt\",control:{modelValue:\"组件示例演示，可快速轻松实现功能复杂的各类型表单；功能强大、简单灵活、超乎你想象\",style:{color:\"red\"}},config:{}},{type:\"title\",control:{modelValue:\"基础字段\"},config:{}},{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入标题名称\"},config:{},name:\"inputText\",formItem:{label:\"标题名称\"},customRules:[{type:\"required\",message:\"必填项\",trigger:\"blur\"}]},{type:\"radio\",control:{modelValue:\"0\"},config:{optionsType:0,transformData:\"number\"},name:\"radio\",formItem:{label:\"性别\"},options:[{label:\"男\",value:1},{label:\"女\",value:0}]},{type:\"checkbox\",control:{modelValue:[]},options:[],config:{optionsType:2,optionsFun:\"sys-flow\"},name:\"checkbox\",formItem:{label:\"多选\"}},{type:\"select\",control:{appendToBody:true},config:{optionsType:1,optionsFun:\"demo/select\",method:\"get\",label:\"name\",value:\"value\"},name:\"select1\",formItem:{label:\"选择框\"},options:[]},{type:\"datePicker\",control:{type:\"date\",placeholder:\"请选择日期\",format:\"YYYY-MM-DD\",valueFormat:\"YYYY-MM-DD\"},config:{},name:\"dateTime\",formItem:{label:\"日期时间\"}},{type:\"switch\",control:{modelValue:false,activeValue:1,inactiveValue:0},config:{},name:\"switch\",formItem:{label:\"开关\"}},{type:\"textarea\",control:{modelValue:\"\"},config:{},name:\"textarea\",formItem:{label:\"多行文本\"}},{type:\"upload\",control:{modelValue:\"\"},config:{tip:\"\",btnText:\"选择图片\"},name:\"upload\",formItem:{label:\"图片文件上传\"}},{type:\"card\",list:[{type:\"component\",control:{modelValue:\"\"},config:{componentName:\"ComponentTest\"},name:\"component\",formItem:{label:\"选择位置\"}},{type:\"expand-user\",control:{modelValue:\"\"},config:{},name:\"user\",formItem:{label:\"选择用户\"}}],control:{},config:{},formItem:{label:\"卡片布局\"}},{type:\"inputSlot\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"小时\",value:\"h\"},{label:\"分钟\",value:\"m\"},{label:\"天\",value:\"d\"}],config:{optionsType:0},name:\"prepend\",formItem:{label:\"前缀\",hideLabel:true}},{type:\"input\",control:{modelValue:\"\"},config:{append:\"key:prepend\"},name:\"select2\",formItem:{label:\"复合型\"}},{type:\"title\",control:{modelValue:\"子表\"},config:{},name:\"title1706851586238\"},{type:\"table\",list:[{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入姓名\"},config:{},name:\"name\",formItem:{label:\"姓名\"},customRules:[{type:\"required\",message:\"必填项\",trigger:\"blur\"}]},{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"男\",value:\"1\"},{label:\"女\",value:\"0\"},{label:\"未知\",value:\"2\"}],config:{optionsType:0,transformData:\"string\"},name:\"sex\",formItem:{label:\"性别\"}}],tableData:[],control:{border:true},config:{addBtnText:\"添加一行\"},name:\"table2\"},{type:\"title\",control:{modelValue:\"弹性字段\"},config:{}},{type:\"flex\",list:[{type:\"input\",control:{modelValue:\"\"},config:{span:10},name:\"input1706851786349\",formItem:{label:\"姓名\"},customRules:[{type:\"required\",message:\"必填项\",trigger:\"blur\"}]},{type:\"input\",control:{modelValue:\"\"},config:{span:10},name:\"tel\",formItem:{label:\"电话\"},customRules:[{type:\"mobile\",message:\"请输入手机号码\",trigger:\"blur\"}]}],tableData:[],control:{},config:{addBtnText:\"添加一行\",span:22,delBtnText:\"删除\"},name:\"flex\"},{type:\"tinymce\",control:{modelValue:\"\"},config:{},name:\"tinymce\",formItem:{label:\"内容\"}}],form:{size:\"default\",labelWidth:\"120\"},config:{submitCancel:true}}","creatUserId":1,"name":"组件示例表单","dict":"{}","id":57,"source":20,"type":1,"creatDate":"2024-02-01 09:47:26","category":1,"status":1},{"updateDate":"2023-12-10 14:25:38","editUserId":1,"data":"{list:[{type:\"input\",control:{modelValue:\"\"},config:{},name:\"name\",formItem:{label:\"名称标题\"}},{type:\"input\",control:{modelValue:\"\"},config:{},name:\"content\",formItem:{label:\"内容\"}},{type:\"input\",control:{modelValue:\"\"},config:{},name:\"dateTime\",formItem:{label:\"时间\"}}],form:{size:\"default\"},config:{}}","creatUserId":1,"name":"未命名表单","dict":"{}","id":48,"source":19,"type":1,"creatDate":"2030-12-12 12:12:12","category":1,"status":1},{"updateDate":"2023-10-08 11:04:39","editUserId":1,"data":"{list:[{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"事假\",value:\"1\"},{label:\"病假\",value:\"2\"},{label:\"调休\",value:\"3\"},{label:\"产假\",value:\"4\"},{label:\"陪产假\",value:\"5\"},{label:\"婚假\",value:\"6\"},{label:\"丧假\",value:\"7\"}],config:{optionsType:0},name:\"type\",formItem:{label:\"请假类型\",rules:[{required:true,message:\"请选择请假类型\",trigger:\"change\"}]}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\",placeholder:\"请填写开始时间\"},config:{},name:\"startTime\",formItem:{label:\"开始时间\",rules:[{required:true,message:\"请选择开始时间\",trigger:\"change\"}]}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\",placeholder:\"请填写结束时间\"},config:{},name:\"endTime\",formItem:{label:\"结束时间\",rules:[{required:true,message:\"请选择结束时间\",trigger:\"change\"},{validator:(rule, value, callback) =>\r\n        {\r\n          const val = getaskForLeaveValueByName('startTime')\r\n          if (value <= val)\r\n          {\r\n            callback(new Error('结束时间必须大于开始时间'))\r\n          }\r\n          else\r\n          {\r\n            callback()\r\n          }\r\n        },trigger:\"blur\"}]}},{type:\"input\",control:{modelValue:\"\",placeholder:\"自动计算时长\",disabled:true},config:{},name:\"duration\",formItem:{label:\"时长\"}},{type:\"textarea\",control:{modelValue:\"\",placeholder:\"不填写不能通过\"},config:{span:24},name:\"remark\",formItem:{label:\"请假事由\",rules:[{required:true,message:\"请填写请假事由\",trigger:\"change\"}]}},{type:\"upload\",control:{modelValue:\"\"},config:{},name:\"files\",formItem:{label:\"图片附件\",rules:[]}}],form:{size:\"default\",class:\"form-row-2\",labelWidth:\"100px\",name:\"askForLeave\"},config:{submitCancel:true},events:{change:(key, model) =>\r\n    {\r\n      // name当前改变组件的值,model表单的值\r\n      console.log(key, model)\r\n      if (['startTime', 'endTime'].includes(key) && model.startTime && model.endTime)\r\n      {\r\n        model.duration = (model.endTime - model.startTime) / (1000 * 60 * 60 * 24) + '天'\r\n      }\r\n      return model\r\n    }}}","listData":"","remark":"","source":14,"type":1,"creatDate":"2030-12-12 12:12:12","creatUserId":1,"name":"请假流程表单","dict":"{}","id":37,"category":2,"status":1},{"updateDate":"2023-10-08 10:48:26","editUserId":1,"data":"{list:[{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入客户名称\"},config:{},name:\"name\",formItem:{label:\"客户名称\"},customRules:[{type:\"required\",message:\"请输入客户名称\",trigger:\"blur\"}]},{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入手机号码\"},config:{},name:\"phone\",formItem:{label:\"手机号码\"},customRules:[{type:\"mobile\",message:\"请输入手机号码\",trigger:\"blur\"}]},{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入微信号码\"},config:{},name:\"weixin\",formItem:{label:\"微信\"}},{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入公司名称\"},config:{},name:\"company\",formItem:{label:\"公司名称\"}},{type:\"radio\",control:{modelValue:1},options:[],config:{optionsType:2,optionsFun:\"sys-status\"},name:\"status\",formItem:{label:\"状态\"}},{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"普通客户\",value:\"1\"},{label:\"合作客户\",value:\"2\"},{label:\"Vip客户\",value:\"3\"},{label:\"无合作意向\",value:\"4\"}],config:{optionsType:0},name:\"intention\",formItem:{label:\"客户类型\"}},{type:\"textarea\",control:{modelValue:\"\"},config:{span:24},name:\"remark\",formItem:{label:\"备注\"}}],form:{size:\"default\",labelWidth:\"100px\",class:\"form-row-2\"},config:{submitCancel:true}}","listData":"","remark":"","source":13,"type":1,"creatDate":"2030-12-12 12:12:12","creatUserId":1,"name":"客户信息","dict":"{}","id":27,"category":1,"status":1},{"updateDate":"2023-10-08 10:49:07","editUserId":1,"data":"{list:[{type:\"txt\",control:{modelValue:\"组件示例演示，可快速轻松实现功能复杂的各类型表单；功能强大、简单灵活、超乎你想象\",style:{color:\"red\"}},config:{span:24}},{type:\"title\",control:{modelValue:\"基础字段\"},config:{span:24}},{type:\"input\",control:{modelValue:\"\",placeholder:\"请输入\"},config:{},name:\"text\",formItem:{label:\"单行文本\"}},{type:\"password\",control:{modelValue:\"\"},config:{},name:\"password\",formItem:{label:\"密码框\"},customRules:[]},{type:\"password\",control:{modelValue:\"\"},config:{},name:\"password2\",formItem:{label:\"确认密码\",rules:[{validator:(rule, value, callback) =>\n        {\n          // 获取密码的值\n          const val = getcomponentsValueByName('password')\n          console.log(val)\n          if (value === '')\n          {\n            callback(new Error('请输入密码'))\n          }\n          else if (value !== val)\n          {\n            callback(new Error('两次密码不一样'))\n          }\n          else\n          {\n            callback()\n          }\n        },trigger:\"change\"}]},customRules:[{type:\"required\",message:\"请输入确认密码\",trigger:\"blur\"}]},{type:\"switch\",control:{modelValue:false},config:{},name:\"status\",formItem:{label:\"状态开关\"}},{type:\"tabs\",columns:[{label:\"常用\",list:[{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[],config:{optionsType:1,optionsFun:\"deptList\",method:\"post\",label:\"name\",value:\"id\",transformData:\"string\"},name:\"select1\",formItem:{label:\"下拉选择\"}},{type:\"radio\",control:{modelValue:\"\"},options:[],config:{optionsType:2,optionsFun:\"sys-status\"},name:\"radio\",formItem:{label:\"单选组\"}},{type:\"datePicker\",control:{modelValue:\"\",type:\"date\"},config:{},name:\"creatTime\",formItem:{label:\"时间\"}},{type:\"checkbox\",control:{modelValue:[]},options:[{label:\"电脑\",value:\"1\"},{label:\"音乐\",value:\"2\"},{label:\"旅游\",value:\"3\"}],config:{optionsType:0,transformData:\"string\"},name:\"checkbox\",formItem:{label:\"多选组\"}}]},{label:\"其他\",list:[{type:\"colorPicker\",control:{modelValue:\"\"},config:{},name:\"color\",formItem:{label:\"取色器\"}},{type:\"rate\",control:{modelValue:0},config:{},name:\"rate\",formItem:{label:\"评分\"}},{type:\"inputNumber\",control:{modelValue:0},config:{},name:\"number\",formItem:{label:\"计时器\"}},{type:\"cascader\",control:{modelValue:[]},options:[],config:{optionsType:0},name:\"cascader\",formItem:{label:\"级联\"}},{type:\"slider\",control:{modelValue:0},config:{},name:\"slider\",formItem:{label:\"滑块\"}},{type:\"treeSelect\",control:{modelValue:\"\",data:[],renderAfterExpand:false},config:{optionsType:0},name:\"tree\",formItem:{label:\"树形控件\"}}]}],control:{},config:{span:24}},{type:\"textarea\",control:{modelValue:\"\"},config:{span:24},name:\"textarea\",formItem:{label:\"多行文本\"}},{type:\"upload\",control:{modelValue:\"\",listType:\"text\",action:\"\"},config:{btnText:\"选择文件\"},name:\"upload\",formItem:{label:\"上传图片\"}},{type:\"card\",list:[{type:\"component\",control:{modelValue:\"\",placeholder:\"请选择地理位置\"},config:{componentName:\"ComponentTest\"},name:\"components\",formItem:{label:\"选择位置\"}},{type:\"expand-user\",control:{modelValue:\"\"},config:{},name:\"userName\",formItem:{label:\"选择用户\"}}],control:{},config:{span:24},item:{label:\"自定义及扩展组件\"}},{type:\"title\",control:{modelValue:\"复合型输入框\"},config:{span:24}},{type:\"inputSlot\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"小时\",value:\"1\"},{label:\"分钟\",value:\"2\"},{label:\"天\",value:\"3\"}],config:{optionsType:0,transformData:\"string\"},name:\"prepend\",formItem:{label:\"前缀\"}},{type:\"input\",control:{modelValue:\"\"},config:{append:\"key:prepend\"},name:\"input1\",formItem:{label:\"文本框1\"}},{type:\"title\",control:{modelValue:\"子表\"},config:{span:24}},{type:\"table\",list:[{type:\"input\",control:{modelValue:\"\",placeholder:\"这里也可以校验哦\"},config:{},name:\"t1\",formItem:{label:\"姓名\"},customRules:[{type:\"required\",message:\"请输入姓名\",trigger:\"blur\"}]},{type:\"select\",control:{modelValue:\"\",appendToBody:true},options:[{label:\"男\",value:\"1\"},{label:\"女\",value:\"2\"}],config:{optionsType:0},name:\"t2\",formItem:{label:\"性别\"}}],tableData:[],control:{border:true},config:{addBtnText:\"添加一行\",span:24,delBtnText:\"删除\"},name:\"table\"},{type:\"title\",control:{modelValue:\"弹性布局\"},config:{span:24,help:\"什么是弹性布局\"}},{type:\"flex\",list:[{type:\"input\",control:{modelValue:\"\",placeholder:\"这里可以校验哦\"},config:{},name:\"f1\",formItem:{label:\"姓名\"},customRules:[{type:\"required\",message:\"请输入姓名\",trigger:\"blur\"}]},{type:\"input\",control:{modelValue:\"\"},config:{},name:\"f2\",formItem:{label:\"联系电话\"},customRules:[{type:\"mobile\",message:\"请输入手机号码\",trigger:\"blur\"}]}],tableData:[],control:{},config:{add:\"添加一行\",span:24,addBtnText:\"添加\",delBtnText:\"del\"},name:\"flex\"},{type:\"tinymce\",control:{modelValue:\"\"},config:{span:24},name:\"tinymce\",formItem:{label:\"富文本\"}}],form:{size:\"default\",labelWidth:\"120px\",class:\"form-row-2\",name:\"components\"},config:{submitCancel:true},events:{afterResponse:(res) =>\r\n{\r\n  const result = res.result\r\n  result.checkbox = result.checkbox ? result.checkbox.split(',') : []\r\n  result.slider = result.slider ? parseInt(result.slider) : 0\r\n  result.table = result.table ? JSON.parse(result.table) : []\r\n  result.flex = result.flex ? JSON.parse(result.flex) : []\r\n  result.cascader = result.cascader ? JSON.parse(result.cascader) : []\r\n  result.password2 = result.password // 设置确认密码\r\n  console.log(res)\r\n  return res\r\n},beforeSubmit:(data, route) =>\n{\n  // data经过处理后返回示例接口只接收string\n  if (data.password2)\n  {\n    delete data.password2\n  }\n  // 转字符串\n  try {\n      data.checkbox = data.checkbox.join(',')\n      data.table = JSON.stringify(data.table)\n       data.flex = JSON.stringify(data.flex)\n      data.cascader=JSON.stringify(data.cascader)\n  } catch (e) {}\n  console.log('beforeRequest', data)\n  return data\n}}}","listData":"","roleId":1,"remark":"","source":12,"type":1,"creatDate":"2030-12-12 12:12:12","creatUserId":1,"name":"组件示例","dict":"{\"test\":{\"0\":\"test1\",\"1\":\"test2\"}}","id":25,"category":1,"status":1}]}}